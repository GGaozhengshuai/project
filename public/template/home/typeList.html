<div class="homeMain typeMain">
    <div class="generTitle"><h3>{{controllerName}} - {{statusText}}</h3></div>
    <div class="applyCommit" ng-if="(controllercode === 'ZD04' || controllercode === 'PJTZ' || controllercode.indexOf('XSFD') !== -1)&& myflag === 'mydoings'">
        <form>
            <div class="applyBtn">
                <!--<a class="agree" href="javascript:;" ng-if="agreeBtn" ng-click="deleteFn(applyObj)">删除</a>-->
                <a class="agree" href="javascript:;" ng-click="applyAgreeAll(applyObj)">同意</a>
                <!--<a class="disagree" href="javascript:;" ng-if="disagreeBtn" ng-click="applyDisagree(applyObj)" title="驳回到上一个审批人">驳回上级</a>
                <a class="recall" href="javascript:;" ng-if="recallBtn" ng-click="applyRecall(applyObj)">召回</a>
                <a class="cancel" href="javascript:;" ng-if="cancelBtn" ng-click="applyCancel(applyObj)" title="驳回到申请人">驳回原点</a>-->
            </div>

            <div class="clear"></div>
        </form>
    </div>
    <!--客户管理-->
    <div ng-if="controllercode === 'CUSTOMER'">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>客户名称</strong>
                        <input class="text" type="text"  ng-init="$parent.NAME=''" ng-model="$parent.NAME" placeholder="">
                    </td>
                    <td>
                        <strong>审批人</strong>
                        <input class="text" type="text"  ng-init="$parent.lastactiveuname=''" ng-model="$parent.lastactiveuname" placeholder="">
                    </td>
                    <td class='ng-hide' ng-show="myflag=='mydones'|| myflag=='mysubscribers'">
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>

            </table>
            <!--<div class="moreSearch" ng-click="toggleFn($event)"><a><b>显示全部</b><span>全部收起</span><i></i></a></div>-->
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <!--<th ng-if=""><input type="checkbox" ng-model="checkAllcustomer" ng-click="allCheck($event, 'customer')"></th>-->
                <th>客户名称</th>
                <th>客户类型</th>
                <th>创建人</th>
                <th>创建时间</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <!--<td ng-if><input ng-click="updateSelection($event,list._id)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAllcustomer"/></td>-->
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.CENTRAL_DATA.NAME1}}</a>
                </td>
                <td>{{list.model.CENTRAL_DATA.KTOKD | getName:customerType}}</td>
                <td>{{list.owner.name}}</td>
                <td>{{list.property.createDate | date:'yyyy-MM-dd HH:mm:ss'}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a class="handleBtn delBtn" href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="5">没有客户内容</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--销售合同-->
    <div ng-if=" controllercode.split(',')[0]=== 'CONT'">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>客户名称</strong>
                        <input class="text" type="text"  ng-init="$parent.stomer=''" ng-model="$parent.stomer" placeholder="">
                    </td>
                    <td>
                        <strong>销售合同号</strong>
                        <input class="text" type="text"  ng-init="$parent.groupno=''" ng-model="$parent.groupno" placeholder="">
                    </td>
                    <td class='ng-hide' ng-show="myflag=='mydones' || myflag=='mysubscribers'">
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                    <td ng-hide="myflag=='mydones' || myflag=='mysubscribers'">
                        <strong>销售人员</strong>
                        <input class="text" type="text" ng-init="$parent.salesname=''" ng-model="$parent.salesname" placeholder="">
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>审批人</strong>
                        <input class="text" type="text"  ng-init="$parent.lastactiveuname=''" ng-model="$parent.lastactiveuname" placeholder="">
                    </td>
                    <td>
                        <strong>时间排序</strong>
                        <select ng-init="$parent.orderby='finishDate:-1'" ng-model="$parent.orderby">
                            <option value="createrDate:-1">创建时间倒序</option>
                            <option value="createrDate:1">创建时间正序</option>
                            <option value="finishDate:-1">审批时间倒序</option>
                            <option value="finishDate:1">审批时间正序</option>
                        </select>
                    </td>
                    <td class="ng-hide" ng-show="myflag=='mydones' || myflag=='mysubscribers'">
                        <strong>销售人员</strong>
                        <input class="text" type="text" ng-init="$parent.salesname=''" ng-model="$parent.salesname" placeholder="">
                    </td>
                    <td class='ng-hide' ng-show="myflag=='mydoings'">
                        <strong>是否打印</strong>
                        <select ng-init="$parent.printed=''" ng-model="$parent.printed">
                            <option value="">请选择</option>
                            <option value="1">是</option>
                            <option value="0">否</option>
                        </select>
                    </td>
                </tr>

            </table>
            <div class="moreSearch" ng-click="toggleFn($event)"><a><b>显示全部</b><span>全部收起</span><i></i></a></div>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <!--<th ng-if=""><input type="checkbox" ng-model="checkAllcontract" ng-click="allCheck($event,'contract')"></th>-->
                <th>单据类型</th>
                <th>销售合同编号</th>
                <th>销售人员</th>
                <th>客户名称</th>
                <th>是否打印</th>
                <th>合同类型</th>
                <th>产品线</th>
                <th>合同金额</th>
                <th>开票税率</th>
                <th>创建时间</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones' || myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <!--<td ng-if><input ng-click="updateSelection($event,list._id)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAllcontract"/></td>-->
                <td>{{list.typename}}</td>
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.contractbase.contractno}}</a>
                </td>
                <td>{{list.model.contractbase.salesname}}</td>
                <td title="{{list.model.contractbase.stomer}}">{{list.model.contractbase.stomer}}</td>
                <!--<td class="center">{{list.hasprint ? '是' : '否'}}</td>-->
                <td class="center">{{list.property.printed==1 ? '是' : '否'}}</td>
                <td>{{list.model.contractbase.contracttype}}</td>
                <td>{{list.model.contractbase.product}}</td>
                <td>{{list.model.contractbase.contractmoney | currency : '￥'}}</td>
                <td>{{list.model.contractbase.receipttype}}</td>
                <td>{{list.model.contractbase.createdate | date: 'yyyy-MM-dd HH:mm:ss'}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones' || myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a class="handleBtn delBtn" href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="10">没有查到合同</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--进出口合同-->
    <div ng-if="controllercode.indexOf('IECONTRACT_CHANGE') !== -1">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>客户名称</strong>
                        <input class="text" type="text"  ng-init="$parent.stomer=''" ng-model="$parent.stomer" placeholder="">
                    </td>
                    <td>
                        <strong>销售人员</strong>
                        <input class="text" type="text"  ng-init="$parent.salesname=''" ng-model="$parent.salesname" placeholder="">
                    </td>
                    <td>
                        <strong>合同类型</strong>
                        <select ng-model="$parent.contracttype" ng-init="$parent.contracttype=''">
                            <option value="">请选择</option>
                            <option value="项目">项目</option>
                            <option value="分销">分销</option>
                            <option value="专有服务">专有服务</option>
                            <option value="配套销售">配套销售</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>审批人</strong>
                        <input class="text" type="text"  ng-init="$parent.lastactiveuname=''" ng-model="$parent.lastactiveuname" placeholder="">
                    </td>
                    <td class='ng-hide' ng-show="myflag=='mydones'|| myflag=='mysubscribers'">
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>

            </table>
            <div class="moreSearch" ng-click="toggleFn($event)"><a><b>显示全部</b><span>全部收起</span><i></i></a></div>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <!--<th ng-if=""><input type="checkbox" ng-model="checkAlliecontract" ng-click="allCheck($event,'iecontract')"></th>-->
                <th>单据类型</th>
                <th>合同编号</th>
                <th>销售人员</th>
                <th>客户名称</th>
                <th>合同类型</th>
                <th>最终用户</th>
                <th>合同金额</th>
                <th>币种</th>
                <th>开票税率</th>
                <th>部门</th>
                <th>销售员</th>
                <th>创建时间</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <!--<td ng-if><input ng-click="updateSelection($event,list._id)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAlliecontract"/></td>-->
                <td>{{list.typename}}</td>
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.contractbase.contractno}}</a>
                </td>
                <td>{{list.model.contractbase.salesname}}</td>
                <td title="{{list.model.contractbase.stomer}}">{{list.model.contractbase.stomer}}</td>
                <td>{{list.model.contractbase.contracttype}}</td>
                <td>{{list.model.contractbase.finalconsumer}}</td>
                <td>{{list.model.contractbase.contractmoney | number:2}}</td>
                <td>{{currencyName[list.model.contractbase.currencytype]}}</td>
                <td>{{list.model.contractbase.receipttype}}</td>
                <td>{{list.model.contractbase.salesorgnanme}}</td>
                <td>{{list.model.contractbase.salesname}}</td>
                <td>{{list.model.contractbase.createdate | date: 'yyyy-MM-dd HH:mm:ss'}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a class="handleBtn delBtn" href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="13">没有查到进出口销售合同</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--销售线索-->
    <div ng-if="controllercode === 'XSXS'">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mysubscribers' || myflag=='mydones' ">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>
            </table>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <!--<th ng-if=""><input type="checkbox" ng-model="checkAllxsxs" ng-click="allCheck($event,'xsxs')"></th>-->
                <th>销售<br/>线索号</th>
                <th>部门</th>
                <th>销售人员</th>
                <th>产品线</th>
                <th>客户<br/>名称</th>
                <th>行业</th>
                <th>项目<br/>进度%</th>
                <th>预计合<br/>同金额</th>
                <th>预计下<br/>单日期</th>
                <th>预计签<br/>约日期</th>
                <th>预计交<br/>货日期</th>
                <th>状态</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <!--<td ng-if><input ng-click="updateSelection($event,list._id)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAllxsxs"/></td>-->
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.sellclueno}}</a>
                </td>
                <td>{{list.model.department}}</td>
                <td>{{list.model.salesclerk}}</td>
                <td>{{list.model.productline}}</td>
                <td>{{list.model.cusname}}</td>
                <td>{{list.model.trade}}</td>
                <td>{{list.model.proscheduleprecent}}</td>
                <td>{{list.model.contractamount | currency : '￥'}}</td>
                <td>{{list.model.estimatedorderdate| date: 'yyyy-MM-dd HH:mm:ss'}}</td>
                <td>{{list.model.signingdate| date: 'yyyy-MM-dd HH:mm:ss'}}</td>
                <td>{{list.model.estimateddeliverydate| date: 'yyyy-MM-dd HH:mm:ss'}}</td>
                <td>{{list.model.state}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a class="handleBtn delBtn" href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="13">没有查到此销售线索</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--借出单-->
    <div ng-if="controllercode.indexOf('JCDRN') !== -1">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>借出单号</strong>
                        <input class="text" type="text"  ng-init="$parent.code=''" ng-model="$parent.code" placeholder="">
                    </td>
                    <td>
                        <strong>借货客户名称</strong>
                        <input class="text" type="text"  ng-init="$parent.clientname=''" ng-model="$parent.clientname" placeholder="">
                    </td>
                    <td>
                        <strong>借货人</strong>
                        <input class="text" type="text"  ng-init="$parent.username=''" ng-model="$parent.username" placeholder="">
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>审批人</strong>
                        <input class="text" type="text"  ng-init="$parent.lastactiveuname=''" ng-model="$parent.lastactiveuname" placeholder="">
                    </td>
                    <td class='ng-hide' ng-show="myflag=='mydones'|| myflag=='mysubscribers'">
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>

            </table>
            <div class="moreSearch" ng-click="toggleFn($event)"><a><b>显示全部</b><span>全部收起</span><i></i></a></div>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <!--<th ng-if=""><input type="checkbox" ng-model="checkAllproductlend" ng-click="allCheck($event,'productlend')"></th>-->
                <th>单据类型</th>
                <th>借出单号</th>
                <th>部门</th>
                <th>借货人</th>
                <th>借货客户名称</th>
                <th>借货类型</th>
                <th>产品线</th>
                <th>借出天数</th>
                <th>借出金额</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <!--<td ng-if><input ng-click="updateSelection($event,list._id)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAllproductlend"/></td>-->
                <td>{{list.typename}}</td>
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.code}}</a>
                </td>
                <td>{{list.model.department.name}}</td>
                <td>{{list.model.user.name}}</td>
                <td>{{list.model.client.name}}</td>
                <td>{{{'ZA1':'厂商借用','ZA2':'代理商借用','ZA3':'内部借用','ZA4':'借货转销售'}[list.model.lendbase.lendtype] || list.model.lendbase.lendtype}}</td>
                <td>{{list.model.lendbase.productline}}</td>
                <td>{{list.model.lendbase.days}}</td>
                <td>{{list.model.lendbase.sum | currency : '￥'}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a class="handleBtn delBtn" href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="10">没有查到借出单</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--借出单还回    -->
    <div ng-if="controllercode === 'JCDRT'">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mysubscribers' ">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>
            </table>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <th ng-if=""><input type="checkbox" ng-model="checkAllproductlend"
                                    ng-click="allCheck($event,'productlend')"></th>
                <th>还回单编号</th>
                <th>部门</th>
                <th>借货人</th>
                <th>借出单编号</th>
                <th>借货客户名称</th>
                <th>产品线</th>
                <th>发货人</th>
                <th>发货时间</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <td ng-if><input ng-click="updateSelection($event,list._id)" class="checkBox" name="checkbox{{$index}}"
                                 type="checkbox" ng-checked="checkAllproductlend"/></td>
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.pdreturn.rtcode}}</a>
                </td>
                <td>{{list.model.department.name}}</td>
                <td>{{list.model.user.name}}</td>
                <td>{{list.model.code}}</td>
                <td>{{list.model.client.name}}</td>
                <td>{{{'ZA1':'厂商借用','ZA2':'代理商借用','ZA3':'内部借用','ZA4':'借货转销售'}[list.model.lendbase.lendtype] || list.model.lendbase.lendtype}}</td>
                <!--<td>{{list.model.lendbase.lendtype}}</td>-->
                <td>{{list.model.pdreturn.shipper}}</td>
                <td>{{list.model.pdreturn.shipdate | date: 'yyyy-MM-dd'}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a class="handleBtn delBtn" href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="9">没有查到借出单</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--放货单-->
    <div ng-if="controllercode === 'FHSQ'">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>单据编号</strong>
                        <input class="text" type="text"  ng-init="$parent.code=''" ng-model="$parent.code" placeholder="">
                    </td>
                    <td>
                        <strong>客户名称</strong>
                        <input class="text" type="text" ng-init="$parent.client=''" ng-model="$parent.client" placeholder="">
                    </td>
                    <td>
                        <strong>销售人员</strong>
                        <input class="text" type="text"  ng-init="$parent.sale=''" ng-model="$parent.sale" placeholder="">
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>审批人</strong>
                        <input class="text" type="text"  ng-init="$parent.lastactiveuname=''" ng-model="$parent.lastactiveuname" placeholder="">
                    </td>
                    <td>
                        <strong>放货单号</strong>
                        <input class="text" type="text"  ng-init="$parent.fhcode=''" ng-model="$parent.fhcode" placeholder="">
                    </td>
                    <td class='ng-hide' ng-show="myflag=='mydones'|| myflag=='mysubscribers'">
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>

            </table>
            <div class="moreSearch" ng-click="toggleFn($event)"><a><b>显示全部</b><span>全部收起</span><i></i></a></div>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <!--<th ng-if=""><input type="checkbox" ng-model="checkAllproductout" ng-click="allCheck($event,'productout')"></th>-->
                <th>放货单号</th>
                <th>单据编号</th>
                <th>申请部门</th>
                <th>销售人员</th>
                <th>客户名称</th>
                <th>放货总金额</th>
                <th>库房名称</th>
                <th>出库方式</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <!--<td ng-if><input ng-click="updateSelection($event,list._id)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAllproductout"/></td>-->
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.code}}</a>
                </td>
                <td>{{list.model.contract.code}}</td>
                <td>{{list.model.contract.department}}</td>
                <td>{{list.model.contract.sale}}</td>
                <td>{{list.model.contract.client}}</td>
                <td>{{list.model.money | currency : '￥'}}</td>
                <td>{{list.model.dest.lgort | getName: enumObj.enumDepot : 'name' : 'code'}}</td>
                <td>{{enumObj.enumCargooutType[list.model.dest.cargoouttype]}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a class="handleBtn delBtn" href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="9">没有查到放货单</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--放货信息维护-->
    <div ng-if="controllercode === 'FHXX'">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>客户名称</strong>
                        <input class="text" type="text"  ng-init="$parent.client=''" ng-model="$parent.client" placeholder="">
                    </td>
                    <td>
                        <strong>申请人</strong>
                        <input class="text" type="text"  ng-init="$parent.name=''" ng-model="$parent.name" placeholder="">
                    </td>
                    <td>
                        <strong>审批人</strong>
                        <input class="text" type="text"  ng-init="$parent.lastactiveuname=''" ng-model="$parent.lastactiveuname" placeholder="">
                    </td>
                </tr>
                <tr class='ng-hide' ng-show="myflag=='mydones'|| myflag=='mysubscribers'">
                    <td>
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>

            </table>
            <div ng-if="myflag=='mydones'|| myflag=='mysubscribers'" class="moreSearch" ng-click="toggleFn($event)"><a><b>显示全部</b><span>全部收起</span><i></i></a></div>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <!--<th ng-if=""><input type="checkbox" ng-model="checkAllproductout" ng-click="allCheck($event,'productout')"></th>-->
                <th>单据编号</th>
                <th>单据类型</th>
                <th>客户名称</th>
                <th>申请人</th>
                <th>状态</th>
                <th>申请日期</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <!--<td ng-if><input ng-click="updateSelection($event,list._id)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAllproductout"/></td>-->
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.contract.code}}</a>
                </td>
                <td>{{list.model.contract.type | getName: typeName}}</td>
                <td>{{list.model.contract.client}}</td>
                <td>{{list.owner.name}}</td>
                <td>{{list.status}}</td>
                <td>{{list.property.createDate}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a class="handleBtn delBtn" href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="9">没有查到放货单</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--销售返点-->
    <div ng-if="controllercode.indexOf('XSFD') !== -1" ng-class="myflag=='mydoings' ? 'typelistCGFDWrap' : ''">

        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong style="width: 140px;">返点所属客户名称</strong>
                        <input class="text" type="text"  ng-init="$parent.name=''" ng-model="$parent.name" placeholder="">
                    </td>
                    <td>
                        <strong>审批人</strong>
                        <input class="text" type="text"  ng-init="$parent.lastactiveuname=''" ng-model="$parent.lastactiveuname" placeholder="">
                    </td>
                    <td class='ng-hide' ng-show="myflag=='mydones'|| myflag=='mysubscribers'">
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>

            </table>
            <!--<div class="moreSearch" ng-click="toggleFn($event)"><a><b>显示全部</b><span>全部收起</span><i></i></a></div>-->
        </div>
        <div class="applyBtn cgfdInfoWrap ng-hide" ng-show="myflag=='mydoings'">
            <span>已选返点条数：{{selectNumxs}}</span>
            <span>已选返点金额合计：{{sumxsfdje  | number:2}}</span>
        </div>
        <div style="overflow-x: auto">
        <table class="orangestyle table">
            <thead>
            <tr>
                <th ng-if="myflag=='mydoings'"><input type="checkbox" ng-model="$parent.$parent.checkAllsalesbonus" ng-click="allCheck($event,'salesbonus')"></th>
                <th>单据类型</th>
                <th>返点编号</th>
                <th>事业部</th>
                <th>返点所属<br>客户名称</th>
                <th>返点使用<br>客户名称</th>
                <th>返点金额</th>
                <th>可用金额</th>
                <th>返点<br>类型</th>
                <th>返点来源</th>
                <th>生效日期</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <td ng-if="myflag=='mydoings'"><input ng-click="updateSelection($event,list.processId, $index)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="$parent.checkAllsalesbonus"/></td>
                <td>{{list.typename}}</td>
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}"
                       title="{{list.model.code}}">{{list.model.code | cutfield:true:20:'...'}}</a></td>
                <td>{{list.model.department.name}}</td>
                <td class="pre" title="{{list.model.client.name}}">{{list.model.client.name | cutfield:true:7:'...'}}
                </td>
                <td class="pre" title="{{list.model.user.name}}">{{list.model.user.name | cutfield:true:7:'...'}}</td>
                <td>{{list.total | currency : '￥'}}</td>
                <td>{{list.usable | currency : '￥'}}</td>
                <td>{{list.model.bonusbase.type}}</td>
                <td class="pre" title="{{list.model.bonusbase.source}}">{{list.model.bonusbase.source |
                    cutfield:true:8:'...'}}
                </td>
                <td>{{list.model.bonusinfo.start | date: 'yyyy-MM-dd HH:mm:ss'}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a class="handleBtn delBtn" href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="11">没有查到销售返点</td>
            </tr>
            </tbody>
        </table>
        </div>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--付款申请-->
    <!--FKSQ, HBFK, FKZF-->
    <!--用到和分页绑定的search，不能用公共的pagination-->
    <div ng-if="controllercode.indexOf('FKSQ') !== -1">
        <!--<div class="genSearch">-->
        <div class="typeListSearch genSearch ng-hide" id="typeListSearch" ng-show="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>付款申请单号</strong>
                        <input id="fksqcode" class="text" type="text" name="ZSQNO"  ng-init="$parent.ZSQNO=''" ng-model="$parent.ZSQNO" ng-keyup="myKeyup($event,search)" placeholder="请输入付款申请单号">
                    </td>
                    <td>
                        <strong>供应商订单号</strong>
                        <input class="text" type="text" name="LIFNR"  ng-init="$parent.ZZPO=''" ng-model="$parent.ZZPO" placeholder="请输入供应商订单号">
                    </td>
                    <td>
                        <strong>供应商名称</strong>
                        <input class="text" type="text" name="ZSKDW"  ng-init="$parent.ZSKDW=''" ng-model="$parent.ZSKDW" placeholder="请输入供应商名称">
                    </td>
                   <!-- <td>
                        <input type="button" value="查询" class="searchbtn2" ng-click="search()">
                    </td>-->
                </tr>
                <tr>
                    <td>
                        <strong>申请人</strong>
                        <input class="text" type="text" name="AUFUSER0"  ng-init="$parent.AUFUSER0=''" ng-model="$parent.AUFUSER0" placeholder="请输入申请人">
                    </td>
                    <td>
                        <strong>审批人</strong>
                        <input class="text" type="text" name="lastactiveuname"  ng-init="$parent.lastactiveuname=''" ng-model="$parent.lastactiveuname" placeholder="请输入审批人">
                    </td>
                    <td>
                        <strong>采购订单号</strong>
                        <input class="text" type="text" name="EBELN"  ng-init="$parent.EBELN=''" ng-model="$parent.EBELN" placeholder="请输入采购订单号">
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>申请付款金额</strong>
                        <input class="text" type="text" name="ZSQJE"  ng-init="$parent.ZSQJE=''" ng-model="$parent.ZSQJE" placeholder="请输入申请付款金额">
                    </td>
                    <td>
                        <strong>实际付款金额</strong>
                        <input class="text" type="text" name="ZSJFKJE"  ng-init="$parent.ZSJFKJE=''" ng-model="$parent.ZSJFKJE" placeholder="请输入实际付款金额">
                    </td>
                    <td>
                        <strong>采购商务</strong>
                        <input class="text" type="text" name="ZCGSW"  ng-init="$parent.ZCGSW=''" ng-model="$parent.ZCGSW" placeholder="请输入采购商务">
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>部门</strong>
                        <input class="text" type="text" name="ZSQBM"  ng-init="$parent.ZSQBM=''" ng-model="$parent.ZSQBM" placeholder="请输入部门">
                    </td>
                    <td class='ng-hide' ng-show="myflag=='mydones' || myflag=='mysubscribers'">
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                    <td>
                        <strong>费用申请单号</strong>
                        <input class="text" type="text" name="AUFNR"  ng-init="$parent.AUFNR=''" ng-model="$parent.AUFNR" placeholder="请输入费用申请单号">
                    </td>
                </tr>
            </table>
            <div class="moreSearch" ng-click="toggleFn($event)"><a><b>显示全部</b><span>全部收起</span><i></i></a></div>
        </div>
        <div style="width: 100%; overflow-x: auto;">
        <table class="orangestyle table">
            <thead>
            <tr>
                <!--<th ng-if=""><input type="checkbox" ng-model="checkAllcredit" ng-click="allCheck($event,'credit')"></th>-->
                <th>单据类型</th>
                <th>付款申请单号</th>
                <th>申请人</th>
                <th>采购商务</th>
                <th>部门</th>
                <th>供应商名称</th>
                <!--<th>付款主体</th>-->
                <th>付款种类</th>
                <th>付款方式</th>
                <!--<th>货币种类</th>-->
                <th>供应商订单号</th>
                <th>采购订单号</th>
                <th>申请付<br>款金额</th>
                <th>实际付<br>款金额</th>
                <!--<th>未核销<br>金额</th>-->
                <th>计划付<br>款时间</th>
                <!--<th>实际付<br>款时间</th>-->
                <th>交货日期</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones' || myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <!--<td ng-if><input ng-click="updateSelection($event,list._id)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAllcredit"/></td>-->
                <td>{{list.typename}}</td>
                <td ng-hide="myflag==='mydoings'"><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.ZSQNO}}</a>
                </td>
                <td ng-show="myflag==='mydoings'"><a
                       href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.ZSQNO}}</a>
                </td>
                <td>{{list.model.AUFUSER0}}</td>
                <td>{{list.model.ZCGSW}}</td>
                <td>{{list.model.ZSQBM}}</td>
                <td title="{{list.model.ZSKDW}}">{{list.model.ZSKDW | cutfield:true:12:'...'}}</td>
                <!--<td title="{{enumObj2.ZFKZT[list.model.ZFKZT]}}">{{enumObj2.ZFKZT[list.model.ZFKZT] | cutfield:true:4:'...'}}</td>-->
                <!--<td>{{list.model.ZFKZL}}</td>-->
                <td>{{list.model.ZFKZL.substring(0,2) | getName:enumPayObj:'TITLE':'CODE1'}}</td>
                <td>{{list.model.ZFKFS}}</td>
                <!--<td>{{currencyName[list.model.WAERS] ? currencyName[list.model.WAERS] : list.model.WAERS}}</td>-->
                <td title="{{list.content.pos ? list.content.pos[0].ZZPO : ''}}">{{list.content.pos ? list.content.pos[0].ZZPO : ''}}</td>
                <td title="{{list.model.EBELN}}">{{list.model.EBELN}}</td>
                <td title="{{list.model.ZSQJE|number:2}}">{{list.model.ZSQJE | number:2 | cutfield:true:12:'...'}}</td>
                <td title="{{list.model.ZSJFKJE | number:2}}">{{list.model.ZSJFKJE | number:2 | cutfield:true:12:'...'}}</td>
                <!--<td title="{{list.model.ZWHXJE}}">{{list.model.ZWHXJE|number:2 | cutfield:true:12:'...'}}</td>-->
                <td>{{list.model.ZJHDAT}}</td>
                <td title="{{list.content.pos ? list.content.pos[0].ZZJHRQ : ''}}">{{list.content.pos ? list.content.pos[0].ZZJHRQ : ''}}</td>
                <!--<td>{{list.model.ZSJDAT}}</td>-->
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones' || myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="delBtn handleBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="12">没有查到付款申请单</td>
            </tr>
            </tbody>
        </table>
        </div>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--收款计划-->
    <div ng-if="controllercode === 'SKJH'">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mysubscribers' || myflag=='mydones' ">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>
            </table>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <!--<th ng-if=""><input type="checkbox" ng-model="checkAllskjh" ng-click="allCheck($event,'skjh')"></th>-->
                <th>收款计划单号</th>
                <th>客户名称</th>
                <th>部门</th>
                <th>制单人</th>
                <th>收款金额</th>
                <th>日期</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <!--<td ng-if><input ng-click="updateSelection($event,list._id)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAllskjh"/></td>-->
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.ZJHDBHK}}</a>
                </td>
                <td>{{list.model.NAME1}}</td>
                <td>{{list.model.ZBM}}</td>
                <td>{{list.model.ZCRNAM}}</td>
                <td>{{list.model.ZSKJE | number:2}}</td>
                <td>{{list.model.ZCRDAT| date: 'yyyy-MM-dd HH:mm:ss'}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="7">没有查到收款计划单</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--票据台账-->
    <div ng-if="controllercode === 'PJTZ'">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mysubscribers' || myflag=='mydones' ">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>
            </table>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <th ng-if="myflag=='mydoings'"><input type="checkbox" ng-model="$parent.$parent.checkAllpjtz" ng-click="allCheck($event,'pjtz')"></th>
                <th>票据单号</th>
                <th>客户名称</th>
                <th>收票商务</th>
                <th>票据种类</th>
                <th>票据金额</th>
                <th>到期日期</th>
                <th>收票日期</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <td ng-if="myflag=='mydoings'"><input ng-click="updateSelection($event,list.processId,$index)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAllpjtz"/></td>
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.BILL_DATA[0].ZPJDH}}</a>
                </td>
                <td>{{list.model.BILL_DATA[0].NAME1}}</td>
                <td>{{list.model.BILL_DATA[0].ZSPSW}}</td>
                <td>{{list.model.BILL_DATA[0].ZPTYPE}}</td>
                <td>{{list.model.BILL_DATA[0].ZAMOUNT | currency : '￥'}}</td>
                <td>{{list.model.BILL_DATA[0].ZDQDAT | date:'yyyy-MM-dd'}}</td>
                <td>{{list.model.BILL_DATA[0].ZSPDAT | date:'yyyy-MM-dd'}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="6">没有查到票据台账</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--开票申请 - 我的待办-->
    <div class="typeListKPSQWrap" ng-if="controllercode === 'KPSQ' && myflag=='mydoings'">
        <ul class="generNav" ng-init="$parent.$parent.activeTab = 1">
            <li ng-class="{active:$parent.$parent.activeTab == 1}" class="active"><a href="javascript:;"
                                                                        ng-mousedown="$parent.$parent.activeTab = 1">快速开票</a></li>
            <li ng-class="{active:$parent.$parent.activeTab == 2}"><a href="javascript:;" ng-mousedown="$parent.$parent.activeTab = 2">普通开票</a></li>
            <!--<li ng-class="{active:ht.activeTab == 2}"><a href="javascript:;" ng-mousedown="$parent.ht.activeTab = 2" ng-click="showKPSQFn('kpnormal')">普通开票</a></li>-->
        </ul>
        <div ng-if="$parent.$parent.activeTab == 1">
            <div class="genSearch typeListSearch">
                <input type="button" value="查询" class="searchbtn2" ng-click="search()">
                <table>
                    <tr>
                        <td>
                            <strong>开票申请号</strong>
                            <input class="text" type="text" name="XBLNR" ng-model="$parent.$parent.XBLNR" placeholder="请输入开票申请号">
                        </td>
                        <td>
                            <strong>销售合同号</strong>
                            <input class="text" type="text" name="contractno" ng-model="$parent.$parent.contractno" placeholder="请输入销售合同号">
                        </td>
                        <td>
                            <strong>合同类型</strong>
                            <select ng-model="$parent.$parent.contracttype" ng-init="$parent.$parent.contracttype=''">
                                <option value="">请选择</option>
                                <option value="项目">项目</option>
                                <option value="分销">分销</option>
                                <option value="专有服务">专有服务</option>
                                <option value="配套销售">配套销售</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>发票类型</strong>
                            <select name="" ng-init="$parent.$parent.fapType=''" ng-model="$parent.$parent.fapType">
                                <option value="">请选择</option>
                                <option value="1">发票</option>
                                <option value="2">收据</option>
                            </select>
                        </td>
                        <td>
                            <strong>客户名称</strong>
                            <input class="text" type="text" name="cusname" ng-model="$parent.$parent.cusname" placeholder="请输入客户名称">
                        </td>
                        <td>
                            <strong>申请人</strong>
                            <input class="text" type="text" name="user" ng-model="$parent.$parent.user" placeholder="请输入申请人">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>部门</strong>
                            <input class="text" type="text" name="user" ng-model="$parent.$parent.deptmt" placeholder="请输入部门">
                        </td>
                    </tr>
                </table>
            </div>
            <div class="applyCommit" style="margin: 0;">
                <form>
                    <div class="applyBtn kpInfoWrap">
                        <a class="agree" href="javascript:;" ng-click="applyAgreeAll(applyObj)">同意</a>
                        <b ng-class="isSWJL ? '' : 'visibhidden'">
                            <span>本次开票金额：{{sumbckp  | currency : '￥'}}</span>
                            <span>增值税发票已开：{{sumzzfp  | currency : '￥'}}</span>
                            <span>服务费发票已开：{{sumfwfp  | currency : '￥'}}</span>
                            <span>全部已开：{{(sumfwfp *1 + sumzzfp*1)  | currency : '￥'}}</span>
                        </b>
                    </div>

                    <div class="clear"></div>
                </form>
            </div>
            <div style="width: 100%; overflow-x: auto;">
            <table class="orangestyle table" style="margin-top:0; ">
                <thead>
                <tr>
                    <th ng-if="myflag=='mydoings'"><input type="checkbox" ng-model="$parent.$parent.$parent.checkAllmkinvoice1"
                                                          ng-click="allCheck($event,'mkinvoice1')"></th>
                    <th>开票申请号</th>
                    <th>发票<br>类型</th>
                    <th>开票<br>金额</th>
                    <th>红色发<br>票金额</th>
                    <th>销售<br>合同号</th>
                    <th>客户名称</th>
                    <th>部门</th>
                    <!--<th>销售<br>人员</th>-->
                    <th>合同<br>金额</th>
                    <th>税率</th>
                    <th>合同<br>类型</th>
                    <th>末次放<br>货日期</th>
                    <th>实际开<br>票日期</th>
                    <th>申请人</th>
                    <th>申请<br>日期</th>
                    <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                    <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                    <th ng-if="myflag=='mybegins'" width="60">操作</th>
                </tr>
                </thead>
                <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
                <tr ng-repeat="list in dataList">
                    <td ng-if="myflag=='mydoings'"><input ng-click="updateSelection($event,list.processId, $index)"
                                                          class="checkBox" name="checkbox{{$index}}" type="checkbox"
                                                          ng-checked="$parent.checkAllmkinvoice1"/></td>
                    <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.XBLNR}}</a>
                    </td>
                    <td>{{list.model.ZFPLX}}</td>
                    <td>{{list.model.invoiceamount | currency : '￥'}}</td>
                    <td>{{list.model.redinvoice | currency : '￥'}}</td>
                    <td>{{list.model.ZFPLX == '收据' ? list.content.recebill[0].contractno : list.content.htxq[0].contractno}}</td>
                    <td>{{list.model.cusname}}</td>
                    <!--<td>{{list.model.deptmt}}</td>-->
                    <td>{{list.content.htxq ? list.content.htxq[0].salesorgname : ''}}</td>
                    <td>{{(list.model.ZFPLX == '收据' ? list.content.recebill[0].htje : list.content.htxq[0].contractmoney) | currency : '￥'}}</td>
                    <td>{{list.model.rate}}</td>
                    <td>{{list.content.htxq ? list.content.htxq[0].contracttype : '' }}</td>
                    <td>{{list.content.htxq ? list.content.htxq[0].zdmcfhsj : '' }}</td>
                    <td>{{list.model.sjkpsj | date: 'yyyy-MM-dd '}}</td>
                    <td>{{list.model.user}}</td>
                    <!--<td>{{list.model.ZSQRQ | date: 'yyyy-MM-dd HH:mm:ss'}}</td>-->
                    <td>{{list.property.createDate | date: 'yyyy-MM-dd HH:mm:ss'}}</td>
                    <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                    <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                    <td ng-if="myflag=='mybegins'">
                        <a href="javascript:;"
                           ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                    </td>
                </tr>
                <tr class="tip">
                    <td colspan="14">没有查到开票申请</td>
                </tr>
                </tbody>
            </table>
                </div>
            <pagination conf="paginationConf"></pagination>
        </div>
        <div  ng-if="$parent.$parent.activeTab == 2">
            <div class="genSearch typeListSearch">
                <input type="button" value="查询" class="searchbtn2" ng-click="search()">
                <table>
                    <tr>
                        <td>
                            <strong>开票申请号</strong>
                            <input class="text" type="text" name="XBLNR" ng-model="$parent.$parent.XBLNR" placeholder="请输入开票申请号">
                        </td>
                        <td>
                            <strong>销售合同号</strong>
                            <input class="text" type="text" name="contractno" ng-model="$parent.$parent.contractno" placeholder="请输入销售合同号">
                        </td>
                        <td>
                            <strong>合同类型</strong>
                            <select ng-model="$parent.$parent.contracttype" ng-init="$parent.$parent.contracttype=''">
                                <option value="">请选择</option>
                                <option value="项目">项目</option>
                                <option value="分销">分销</option>
                                <option value="专有服务">专有服务</option>
                                <option value="配套销售">配套销售</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>发票类型</strong>
                            <select name="" ng-init="$parent.$parent.fapType=''" ng-model="$parent.$parent.fapType">
                                <option value="">请选择</option>
                                <option value="1">发票</option>
                                <option value="2">收据</option>
                            </select>
                        </td>
                        <td>
                            <strong>客户名称</strong>
                            <input class="text" type="text" name="cusname" ng-model="$parent.$parent.cusname" placeholder="请输入客户名称">
                        </td>
                        <td>
                            <strong>申请人</strong>
                            <input class="text" type="text" name="user" ng-model="$parent.$parent.user" placeholder="请输入申请人">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <strong>部门</strong>
                            <input class="text" type="text" name="user" ng-model="$parent.$parent.deptmt" placeholder="请输入部门">
                        </td>
                    </tr>
                </table>
            </div>
            <div class="applyCommit" style="margin: 0;">
                <form>
                    <div class="applyBtn kpInfoWrap ">
                        <a class="agree"  href="javascript:;" ng-click="applyAgreeAll(applyObj)">同意</a>
                        <b ng-class="isSWJL ? '' : 'visibhidden'">
                            <span>本次开票金额：{{sumbckp | currency : '￥'}}</span>
                            <span>增值税发票已开：{{sumzzfp | currency : '￥'}}</span>
                            <span>服务费发票已开：{{sumfwfp  | currency : '￥'}}</span>
                            <span>全部已开：{{(sumfwfp *1 + sumzzfp*1) | currency : '￥'}}</span>
                        </b>
                    </div>

                    <div class="clear"></div>
                </form>
            </div>
            <div style="width: 100%; overflow-x: auto;">
                <table class="orangestyle table">
                <thead>
                <tr>
                    <th ng-if="myflag=='mydoings'"><input type="checkbox" ng-model="$parent.$parent.$parent.checkAllmkinvoice2"
                                                          ng-click="allCheck($event,'mkinvoice2')"></th>
                    <th>开票申请号</th>
                    <th>发票<br>类型</th>
                    <th>开票<br>金额</th>
                    <th>红色发<br>票金额</th>
                    <th>销售<br>合同号</th>
                    <th>客户名称</th>
                    <th>部门</th>
                    <!--<th>销售<br>人员</th>-->
                    <th>合同<br>金额</th>
                    <th>税率</th>
                    <th>合同<br>类型</th>
                    <th>末次放<br>货日期</th>
                    <th>实际开<br>票日期</th>
                    <th>申请人</th>
                    <th>申请<br>日期</th>
                    <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                    <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                    <th ng-if="myflag=='mybegins'" width="60">操作</th>
                </tr>
                </thead>
                <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
                <tr ng-repeat="list in dataList">
                    <td ng-if="myflag=='mydoings'"><input ng-click="updateSelection($event,list.processId, $index)"
                                                          class="checkBox" name="checkbox{{$index}}" type="checkbox"
                                                          ng-checked="$parent.checkAllmkinvoice2"/></td>
                    <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.XBLNR}}</a>
                    </td>
                    <td>{{list.model.ZFPLX}}</td>
                    <td>{{list.model.invoiceamount  | currency : '￥'}}</td>
                    <td>{{list.model.redinvoice | currency : '￥'}}</td>
                    <td>{{list.model.ZFPLX == '收据' ? list.content.recebill[0].contractno : list.content.htxq[0].contractno}}</td>
                    <td>{{list.model.cusname}}</td>
                    <!--<td>{{list.model.deptmt}}</td>-->
                    <td>{{list.content.htxq ? list.content.htxq[0].salesorgname : ''}}</td>
                    <td>{{(list.model.ZFPLX == '收据' ? list.content.recebill[0].htje : list.content.htxq[0].contractmoney) | currency : '￥'}}</td>
                    <td>{{list.model.rate}}</td>
                    <td>{{list.content.htxq ? list.content.htxq[0].contracttype : '' }}</td>
                    <td>{{list.content.htxq ? list.content.htxq[0].zdmcfhsj : '' }}</td>
                    <td>{{list.model.sjkpsj | date: 'yyyy-MM-dd'}}</td>
                    <td>{{list.model.user}}</td>
                    <!--<td>{{list.model.ZSQRQ | date: 'yyyy-MM-dd HH:mm:ss'}}</td>-->
                    <td>{{list.property.createDate | date: 'yyyy-MM-dd HH:mm:ss'}}</td>
                    <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                    <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                    <td ng-if="myflag=='mybegins'">
                        <a href="javascript:;"
                           ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                    </td>
                </tr>
                <tr class="tip">
                    <td colspan="14">没有查到开票申请</td>
                </tr>
                </tbody>
            </table>
                </div>
            <pagination conf="paginationConf"></pagination>
        </div>
    </div>
    <!--开票申请-->
    <div class="typeListKPSQWrap" ng-if="controllercode === 'KPSQ' && myflag!=='mydoings'">
        <div class="genSearch ng-hide typeListSearch" ng-show="myflag==='mydones'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>发票类型</strong>
                        <select name="" ng-init="$parent.$parent.fapType=''" ng-model="$parent.fapType">
                            <option value="">请选择</option>
                            <option value="1">发票</option>
                            <option value="2">收据</option>
                        </select>
                    </td>
                    <td>
                        <strong>销售合同号</strong>
                        <input class="text" type="text" name="contractno" ng-model="$parent.contractno" placeholder="请输入销售合同号">
                    </td>
                    <td>
                        <strong>客户名称</strong>
                        <input class="text" type="text" name="cusname" ng-model="$parent.cusname" placeholder="请输入客户名称">
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>申请人</strong>
                        <input class="text" type="text" name="user" ng-model="$parent.user" placeholder="请输入申请人">
                    </td>
                    <td>
                        <strong>部门</strong>
                        <input class="text" type="text" name="user" ng-model="$parent.deptmt" placeholder="请输入部门">
                    </td>
                    <td>
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>
                <tr>
                </tr>
            </table>
        </div>
        <div class="genSearch ng-hide typeListSearch" ng-show="myflag==='mybegins'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>销售合同号</strong>
                        <input class="text" type="text" name="contractno" ng-model="$parent.contractno" placeholder="请输入销售合同号">
                    </td>
                    <td>
                        <strong>客户名称</strong>
                        <input class="text" type="text" name="cusname" ng-model="$parent.$parent.cusname" placeholder="请输入客户名称">
                    </td>
                </tr>
            </table>
        </div>
        <div class="genSearch ng-hide typeListSearch" ng-show="myflag==='mysubscribers'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>开票申请号</strong>
                        <input class="text" type="text" name="XBLNR" ng-model="$parent.XBLNR" placeholder="请输入开票申请号">
                    </td>
                    <td>
                        <strong>销售合同号</strong>
                        <input class="text" type="text" name="contractno" ng-model="$parent.contractno" placeholder="请输入销售合同号">
                    </td>
                    <td>
                        <strong>申请人</strong>
                        <input class="text" type="text" name="user" ng-model="$parent.user" placeholder="请输入申请人">
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>审批人</strong>
                        <input class="text" type="text"  ng-init="$parent.lastactiveuname=''" ng-model="$parent.lastactiveuname" placeholder="请输入审批人">
                    </td>
                    <td class='ng-hide' ng-show="myflag=='mydones'|| myflag=='mysubscribers'">
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>
            </table>
        </div>
        <div class="applyBtn kpInfoWrap ng-hide" ng-show="isSWJL && (myflag=='mydones') || myflag=='mysubscribers'" style="margin-bottom: 10px;margin-top: 10px;">
            <span>增值税发票已开：{{sumzzfp | currency : '￥'}}</span>
            <span>服务费发票已开：{{sumfwfp  | currency : '￥'}}</span>
            <span>全部已开：{{(sumfwfp *1 + sumzzfp*1) | currency : '￥'}}</span>
        </div>
        <div style="width: 100%; overflow-x: auto;">
            <table class="orangestyle table" style="width: 120%">
            <thead>
            <tr>
                <!--<th ng-if="myflag=='mydoings'"><input type="checkbox" ng-model="checkAllmkinvoice" ng-click="allCheck($event,'mkinvoice')"></th>-->
                <th>开票申请号</th>
                <th>发票<br>类型</th>
                <th>开票<br>金额</th>
                <th>红色发<br>票金额</th>
                <th>销售合同号</th>
                <th>客户名称</th>
                <th>部门</th>
                <!--<th>销售<br>人员</th>-->
                <th>合同<br>金额</th>
                <th>税率</th>
                <th>合同<br>类型</th>
                <th>末次放<br>货日期</th>
                <th>实际开<br>票日期</th>
                <th>申请人</th>
                <th>申请日期</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <!--<td ng-if="myflag=='mydoings'"><input ng-click="updateSelection($event,list._id)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAllmkinvoice"/></td>-->
                <td ng-if="list.model.task=='D'&&myflag=='mybegins'"><a href="/index.html#/mkinvoiceView/{{list.model._id}}?recebill=2">{{list.model.XBLNR}}</a>
                </td>
                <td ng-if="(list.model.task!='D'&&myflag=='mybegins')||myflag!='mybegins'"><a
                       href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.XBLNR}}</a>
                </td>
                <td title="{{list.model.ZFPLX}}">{{list.model.ZFPLX}}</td>
                <td>{{list.model.invoiceamount | currency : '￥'}}</td>
                <td>{{list.model.redinvoice | currency : '￥'}}</td>
                <td>{{list.model.ZFPLX == '收据' ? list.content.recebill[0].contractno : list.content.htxq[0].contractno}}</td>
                <td>{{list.model.cusname}}</td>
                <!--<td>{{list.model.deptmt}}</td>-->
                <td>{{list.content.htxq ? list.content.htxq[0].salesorgname : ''}}</td>
                <td>{{(list.model.ZFPLX == '收据' ? list.content.recebill[0].htje : list.content.htxq[0].contractmoney) | currency : '￥'}}</td>
                <td>{{list.model.rate}}</td>
                <td>{{list.content.htxq ? list.content.htxq[0].contracttype : '' }}</td>
                <td>{{list.content.htxq ? list.content.htxq[0].zdmcfhsj : '' }}</td>
                <td>{{list.model.sjkpsj | date: 'yyyy-MM-dd '}}</td>
                <td>{{list.model.user}}</td>
                <!--<td>{{list.model.ZSQRQ | date: 'yyyy-MM-dd HH:mm:ss'}}</td>-->
                <td>{{list.property.createDate | date: 'yyyy-MM-dd HH:mm:ss'}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="14">没有查到开票申请</td>
            </tr>
            </tbody>
        </table>
            </div>
        <!--<pagination class="ng-hide" ng-show="controllercode === 'KPSQ' && myflag =='mydones'" conf="paginationConf"></pagination>-->
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--内部订单-->
    <!--费用申请单-->
    <div ng-if="controllercode.indexOf('NBDD') !== -1">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag == 'myapplys'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>申请流水号</strong>
                        <input class="text" type="text"  ng-init="$parent.ZINORD=''" ng-model="$parent.ZINORD" placeholder="">
                    </td>
                    <!--<td>
                        <strong>申请人</strong>
                        <input class="text" type="text"  ng-init="$parent.USER0=''" ng-model="$parent.USER0" placeholder="">
                    </td>-->
                    <td ng-show="myflag == 'myapplys'">
                        <strong>申请标题</strong>
                        <input class="text" type="text"  ng-init="$parent.ZSQNR=''" ng-model="$parent.ZSQNR" placeholder="">
                    </td>
                    <td ng-show="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers'">
                        <strong>审批人</strong>
                        <input class="text" type="text"  ng-init="$parent.lastactiveuname=''" ng-model="$parent.lastactiveuname" placeholder="">
                    </td>
                    <td class='ng-hide' ng-show="myflag=='mydones'|| myflag=='mysubscribers'">
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>
            </table>
            <!--<div class="moreSearch" ng-click="toggleFn($event)"><a><b>显示全部</b><span>全部收起</span><i></i></a></div>-->
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <!--<th ng-if=""><input type="checkbox" ng-model="checkAllinteriorbills" ng-click="allCheck($event,'interiorbills')"></th>-->
                <th>申请流水号</th>
                <th>申请标题</th>
                <th>单据类型</th>
                <th>部门</th>
                <th>创建人</th>
                <th>费用申请单类型</th>
                <th>总预算金额</th>
                <th>成本中心</th>
                <th>申请日期</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <!--<td ng-if><input ng-click="updateSelection($event,list._id)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAllinteriorbills"/></td>-->
                <td><a href="/index.html#/{{list.model.DOCTYPE ? 'interiorbillscancel':list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.ZINORD}}</a>
                </td>
                <td>{{list.model.ZSQNR}}</td>
                <td>{{list.model.DOCTYPE ? '作废':list.model.ZZJYSJE ? '追加预算' : '原始申请'}}</td>
                <td>{{list.model.USER6}}</td>
                <td>{{list.model.USER0}}</td>
                <!--<td>{{typeName[list.model.AUART]}}</td>-->
                <td>{{list.model.ZFYLXTXT}}</td>
                <td>{{list.model.ZZJE | currency : '￥'}}</td>
                <td>{{list.model.RESPCCTR | getName:enumInside :'text':'code'}}</td>
                <td>{{list.model.USER5 | date: 'yyyy-MM-dd HH:mm:ss'}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="11">没有查到费用申请单</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--银行授信-->
    <div ng-if="controllercode.indexOf('YHSX') !== -1">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong style="padding-left: 8px;">银行授信申请号</strong>
                        <input class="text" type="text" name="code"  ng-init="$parent.code=''" ng-model="$parent.code" placeholder="请输入银行授信申请号">
                    </td>
                    <td>
                        <strong>授信品种</strong>
                        <select ng-model="$parent.credittype" ng-required="true" ng-init="$parent.credittype=''" name="credittype">
                            <option value="">请选择</option>
                            <option value="银行承兑汇票">银行承兑汇票</option>
                            <option value="流动资金贷款">流动资金贷款</option>
                            <option value="国内信用证">国内信用证</option>
                            <option value="保函">保函</option>
                            <option value="商业承兑汇票">商业承兑汇票</option>
                            <option value="供应链融资">供应链融资</option>
                            <option value="应收账款保理">应收账款保理</option>
                        </select>
                    </td>
                    <td>
                        <strong>业务人员</strong>
                        <input class="text" type="text"  ng-init="$parent.username=''" ng-model="$parent.username" placeholder="">
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>审批人</strong>
                        <input class="text" type="text"  ng-init="$parent.lastactiveuname=''" ng-model="$parent.lastactiveuname" placeholder="">
                    </td>
                    <td class='ng-hide' ng-show="myflag=='mydones'|| myflag=='mysubscribers'">
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>

            </table>
            <div class="moreSearch" ng-click="toggleFn($event)"><a><b>显示全部</b><span>全部收起</span><i></i></a></div>
        </div>
        <div style="width:100%; overflow-x: auto">
        <table class="orangestyle table">
            <thead>
            <tr>
                <!--<th ng-if=""><input type="checkbox" ng-model="checkAllbankcredit" ng-click="allCheck($event,'bankcredit')"></th>-->
                <th>单据类型</th>
                <th>银行授信申请号</th>
                <th>业务部门</th>
                <th>业务人员</th>
                <th>申请主体</th>
                <th>授信品种</th>
                <th>授信金额</th>
                <th>授信业务期限<br>（天）</th>
                <th>授信业务办理银行</th>
                <th>申请日期</th>
                <th>额度回转日期</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <!--<td ng-if><input ng-click="updateSelection($event,list._id)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAllbankcredit"/></td>-->
                <td>{{list.typename}}</td>
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.code}}</a>
                </td>
                <td>{{list.model.orgname}}</td>
                <td>{{list.model.username}}</td>
                <td>{{{'1000':'中建材信息技术股份有限公司','9000':'中建材集团进出口公司','9001':'中国建材（香港）有限公司'}[list.model.creditbody]}}</td>
                <td>{{list.model.credittype}}</td>
                <td>{{list.model.creditmoney | currency : '￥'}}</td>
                <td>{{list.model.limitdays}}</td>
                <td>{{list.model.bank.name}}</td>
                <td>{{list.model.timestamp| date: 'yyyy-MM-dd HH:mm:ss'}}</td>
                <td>{{list.model.moneybackdate | date: 'yyyy-MM-dd'}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="13">没有查到银行授信</td>
            </tr>
            </tbody>
        </table>
            </div>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--开征付汇-->
    <div ng-if="controllercode === 'KZFH'">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>供应商名称</strong>
                        <input class="text" type="text" name="code"  ng-init="$parent.NAME1=''" ng-model="$parent.NAME1" placeholder="">
                    </td>
                    <td>
                        <strong>付款类型</strong>
                        <select ng-model="$parent.ZFKLX" ng-required="true" ng-init="$parent.ZFKLX=''" name="ZFKLX">
                            <option value="">请选择</option>
                            <option value="开证">开证</option>
                            <option value="付汇">付汇</option>
                        </select>
                    </td>
                    <td>
                        <strong>申请人</strong>
                        <input class="text" type="text"  ng-init="$parent.ZZDR=''" ng-model="$parent.ZZDR" placeholder="">
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>审批人</strong>
                        <input class="text" type="text"  ng-init="$parent.lastactiveuname=''" ng-model="$parent.lastactiveuname" placeholder="">
                    </td>
                    <td class='ng-hide' ng-show="myflag=='mydones'|| myflag=='mysubscribers'">
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>

            </table>
            <div class="moreSearch" ng-click="toggleFn($event)"><a><b>显示全部</b><span>全部收起</span><i></i></a></div>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <!--<th ng-if=""><input type="checkbox" ng-model="checkAllkzfh" ng-click="allCheck($event,'kzfh')"></th>-->
                <th>开证付汇申请号</th>
                <!--<th>部门</th>-->
                <th>申请人</th>
                <th>供应商名称</th>
                <th>付款类型</th>
                <th>币种</th>
                <th>开证付汇金额</th>
                <th>付款方式</th>
                <th>申请时间</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <!--<td ng-if><input ng-click="updateSelection($event,list._id)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAllkzfh"/></td>-->
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.ZKZFH}}</a>
                </td>
                <!--<td>&#45;&#45;</td>-->
                <td>{{list.model.ZZDR}}</td>
                <td>{{list.model.NAME1 + list.model.NAME2}}</td>
                <td>{{list.model.ZFKLX}}</td>
                <td>{{enumObj.WAERS[list.model.ZBB]}}</td>
                <td>{{list.model.ZKZFHJE | number:2}}</td>
                <td>{{list.model.ZFKFS}}</td>
                <td>{{list.model.ZSQRQ | date: 'yyyy-MM-dd'}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="10">没有查到开证付汇</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--签报-->
    <div ng-if="controllercode === 'QB'">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>签报类型</strong>
                        <select ng-model="$parent.signtype" ng-init="$parent.signtype=''">
                            <option value="">请选择</option>
                            <option value="提前交货">提前交货</option>
                            <option value="投标">投标</option>
                            <option value="诉讼">诉讼</option>
                            <option value="办公费用">办公费用</option>
                            <option value="市场活动">市场活动</option>
                            <option value="其他">其他</option>
                        </select>
                    </td>
                    <td>
                        <strong>申请人</strong>
                        <input class="text" type="text"  ng-init="$parent.creator=''" ng-model="$parent.creator" placeholder="">
                    </td>
                    <td>
                        <strong>签报人</strong>
                        <input class="text" type="text"  ng-init="$parent.signpeople=''" ng-model="$parent.signpeople" placeholder="">
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>审批人</strong>
                        <input class="text" type="text"  ng-init="$parent.lastactiveuname=''" ng-model="$parent.lastactiveuname" placeholder="">
                    </td>
                    <td class='ng-hide' ng-show="myflag=='mydones'|| myflag=='mysubscribers'">
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>

            </table>
            <div class="moreSearch" ng-click="toggleFn($event)"><a><b>显示全部</b><span>全部收起</span><i></i></a></div>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <!--<th ng-if=""><input type="checkbox" ng-model="checkAllsign" ng-click="allCheck($event,'sign')"></th>-->
                <th>签报单号</th>
                <th>申请人</th>
                <th>签报类型</th>
                <th>签报标题</th>
                <th>会签单位</th>
                <th>签报部门</th>
                <th>签报人</th>
                <th>申请日期</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <!--<td ng-if><input ng-click="updateSelection($event,list._id)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAllkzfh"/></td>-->
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.code}}</a>
                </td>
                <td>{{list.model.creator}}</td>
                <td>{{list.model.signtype}}</td>
                <td>{{list.model.signtitle}}</td>
                <td>{{list.model.signunit}}</td>
                <td>{{list.model.signdept}}</td>
                <td>{{list.model.signpeople}}</td>
                <td>{{list.model.createdate}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="9">没有查到签报单</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--请休假-->
    <div ng-if="controllercode === 'QXJ'">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mysubscribers' || myflag=='mydones' ">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>
            </table>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <th>申请人</th>
                <th>申请人部门</th>
                <th>请假类型</th>
                <th>请假开始日期</th>
                <th>请假开始时间</th>
                <th>请假结束日期</th>
                <th>请假结束时间</th>
                <th>合计天数</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.user.name}}</a>
                </td>
                <td>{{list.model.department.name}}</td>
                <td>{{list.model.off_type| getName:holidayData:'name':'code'}}</td>
                <td>{{list.model.begin_date}}</td>
                <td>{{list.model.begin_time}}</td>
                <td>{{list.model.end_date}}</td>
                <td>{{list.model.end_time}}</td>
                <td>{{list.model.off_days}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="9">没有查到请休假</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--采购框架合同-->
    <div ng-if="controllercode === 'ZD03'">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mysubscribers' || myflag=='mydones' ">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>
            </table>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <!--<th ng-if=""><input type="checkbox" ng-model="checkAllZD03" ng-click="allCheck($event,'ZD03')"></th>-->
                <th>框架合同号</th>
                <th>采购组</th>
                <!--<th>采购人员</th>-->
                <th>供应商名称</th>
                <th>框架合同类型</th>
                <!--<th>产品线</th>-->
                <th>货币</th>
                <th>框架总金额</th>
                <th>采购凭证日期</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <!--<td ng-if><input ng-click="updateSelection($event,list._id)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAllZD03"/></td>-->
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.EBELN}}</a>
                </td>
                <td>{{enumObj.EKGRP[list.model.EKGRP]}}</td>
                <!--<td>&#45;&#45;</td>-->
                <td>{{list.model.NAME1}}</td>
                <td>{{enumObj.BSART[list.model.BSART]}}</td>
                <!--<td>&#45;&#45;</td>-->
                <td>{{enumObj.WAERS[list.model.WAERS]}}</td>
                <td>{{list.model.KTWRT | number:2}}</td>
                <td>{{list.model.BEDAT | date: 'yyyy-MM-dd'}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="10">没有查到采购框架合同</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--采购申请-->
    <div ng-if="controllercode.indexOf('ZD01') !== -1">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>采购申请号</strong>
                        <input class="text" type="text"  ng-init="$parent.BANFN=''" ng-model="$parent.BANFN" placeholder="">
                    </td>
                    <td>
                        <strong>申请人</strong>
                        <input class="text" type="text"  ng-init="$parent.ERNAM=''" ng-model="$parent.ERNAM" placeholder="">
                    </td>
                    <td>
                        <strong>审批人</strong>
                        <input class="text" type="text"  ng-init="$parent.lastactiveuname=''" ng-model="$parent.lastactiveuname" placeholder="">
                    </td>
                </tr>
                <tr class='ng-hide' ng-show="myflag=='mydones'|| myflag=='mysubscribers'">
                    <td>
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>

            </table>
            <div ng-if="myflag=='mydones'|| myflag=='mysubscribers'" class="moreSearch" ng-click="toggleFn($event)"><a><b>显示全部</b><span>全部收起</span><i></i></a></div>
        </div>
        <div style="width:100%; overflow-x: auto">
        <table class="orangestyle table">
            <thead>
            <tr>
                <!--<th ng-if=""><input type="checkbox" ng-model="checkAllpurchase" ng-click="allCheck($event,'purchase')"></th>-->
                <th>单据类型</th>
                <th>采购申请号</th>
                <th>采购组</th>
                <th>销售员</th>
                <th>申请人</th>
                <th>采购申请凭证类型</th>
                <th>供应商名称</th>
                <th>项目名称</th>
                <th>产品线</th>
                <th>货币</th>
                <th>进货总金额</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <!--<td ng-if><input ng-click="updateSelection($event,list._id)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAllpurchase"/></td>-->
                <td>{{list.typename}}</td>
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.BANFN}}</a>
                </td>
                <td>{{enumObj.EKGRP[list.model.EKGRP]}}</td>
                <td>{{list.model.ZSQRID && list.model.ZZSQR}}</td>
                <td>{{list.model.ERNAM}}</td>
                <td>{{enumObj.BSART[list.model.BSART]}}</td>
                <td class="pre" title="{{list.model.ZZQY}}">{{list.model.ZZQY | cutfield:true:5:'...'}}</td>
                <td class="pre" title="{{list.model.ZZXM}}">{{list.model.ZZXM | cutfield:true:10:'...'}}</td>
                <td>{{enumObj.ZZCP[list.model.ZZCP]}}</td>
                <td>{{enumObj.WAERS[list.model.WAERS]}}</td>
                <td>{{list.model.ZZZJY | number:2}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}
                </td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)"
                       class="handleBtn delBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="11">没有查到采购申请</td>
            </tr>
            </tbody>
        </table>
            </div>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--采购订单-->
    <div ng-if="controllercode.indexOf('ZD02') !== -1">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>采购订单号</strong>
                        <input class="text" type="text"  ng-init="$parent.EBELN=''" ng-model="$parent.EBELN" placeholder="">
                    </td>
                    <td>
                        <strong>供应商订单号</strong>
                        <input class="text" type="text" ng-init="$parent.ZZPO=''" ng-model="$parent.ZZPO" placeholder="">
                    </td>
                    <!--<td>
                        <strong>申请人</strong>
                        <input class="text" type="text"  ng-init="$parent.ZZSQR=''" ng-model="$parent.ZZSQR" placeholder="">
                    </td>-->
                    <td>
                        <strong>审批人</strong>
                        <input class="text" type="text"  ng-init="$parent.lastactiveuname=''" ng-model="$parent.lastactiveuname" placeholder="">
                    </td>
                </tr>
                <tr class='ng-hide' ng-show="myflag=='mydones'|| myflag=='mysubscribers'">
                    <td>
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>

            </table>
            <div ng-if="myflag=='mydones'|| myflag=='mysubscribers'" class="moreSearch" ng-click="toggleFn($event)"><a><b>显示全部</b><span>全部收起</span><i></i></a></div>
        </div>
        <div style="width:100%; overflow-x: auto;">
        <table class="orangestyle table">
            <thead>
            <tr>
                <!--<th ng-if=""><input type="checkbox" ng-model="checkAllpoheader" ng-click="allCheck($event,'poheader')"></th>-->
                <th>单据类型</th>
                <th>采购订单号</th>
                <th>供应商订单号</th>
                <th>订单金额</th>
                <th>采购组织</th>
                <th>采购组</th>
                <th>创建者</th>
                <th>订单类型</th>
                <th>供应商名称</th>
                <th>产品线</th>
                <th>运输方式</th>
                <th>货币</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <!--<td ng-if><input ng-click="updateSelection($event,list._id)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAllpoheader"/></td>-->
                <td>{{list.typename}}</td>
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.EBELN}}</a>
                </td>
                <td>{{list.model.ZZPO}}</td>
                <td>{{list.model.ZZZJY | number:2}}</td>
                <td title="{{enumObj.EKORG[list.model.EKORG]}}">{{enumObj.EKORG[list.model.EKORG] | cutfield:true:8:'...'}}</td>
                <td>{{enumObj.EKGRP[list.model.EKGRP]}}</td>
                <td>{{list.model.ERNAM}}</td>
                <td>{{enumObj.BSART[list.model.BSART]}}</td>
                <td title="{{list.model.LIFNR_NAME + list.model.LIFNR_NAME2}}">{{list.model.LIFNR_NAME + list.model.LIFNR_NAME2 | cutfield:trur:8:'...'}}</td>
                <td>{{enumObj.ZZCP[list.model.ZZCP]}}</td>
                <td>{{list.model.ZZYS}}</td>
                <td>{{enumObj.WAERS[list.model.WAERS]}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="12">没有查到采购订单</td>
            </tr>
            </tbody>
        </table>
        </div>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--采购返点-->
    <!--<div ng-if="controllercode === 'ZD04'" class="typelistCGFDWrap">-->
    <!--不知道为什么加typelistCGFDWrap这个样式，先注销2017-5-15 看记录是2017-3-2 zhangliangwu在style.css增加的样式，不知道为什么这个特殊处理-->
    <!--2017-5-17 我的待办样式特殊，有批量代办和一些批量信息，需要单独加样式typelistCGFDWrap-->
    <div ng-if="controllercode === 'ZD04'">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td class='ng-hide' ng-show="myflag=='mydones'|| myflag=='mydoings'|| myflag=='mysubscribers'">
                        <strong>订单号</strong>
                        <input class="text" type="text" name="code"  ng-init="$parent.ZMFDXH=''" ng-model="$parent.ZMFDXH" placeholder="">
                    </td>
                    <td>
                        <strong style="width:140px">返点所属代理商</strong>
                        <input class="text" type="text" name="code"  ng-init="$parent.ZMDL=''" ng-model="$parent.ZMDL" placeholder="">
                    </td>
                    <td>
                        <strong>审批人</strong>
                        <input class="text" type="text"  ng-init="$parent.lastactiveuname=''" ng-model="$parent.lastactiveuname" placeholder="">
                    </td>

                </tr>
                <tr class='ng-hide' ng-show="myflag=='mydones'|| myflag=='mysubscribers'">
                    <td class='ng-hide' ng-show="myflag=='mydones'|| myflag=='mysubscribers'">
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>
            </table>
            <div class='ng-hide moreSearch' ng-show="myflag=='mydones'|| myflag=='mysubscribers'" ng-click="toggleFn($event)"><a><b>显示全部</b><span>全部收起</span><i></i></a></div>
        </div>
        <div class="applyBtn ng-hide" style="margin: 10px 0" ng-show="myflag=='mydoings'">
            <span>已选返点条数：{{selectNum}}</span>
            <span>已选返点金额合计：{{sumfdje  | number:2}}</span>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <th ng-if="myflag=='mydoings'"><input type="checkbox" ng-model="$parent.$parent.checkAllpurchasefd" ng-click="allCheck($event,'purchasefd')"></th>
                <th>订单号</th>
                <th>返点类型</th>
                <th>操作标识</th>
                <!--<th>事业部</th>-->
                <th>返点所属代理商</th>
                <th>产品线</th>
                <!--<th>币种</th>-->
                <th>返点金额</th>
                <th>截止有效期</th>
                <th>冻结金额</th>
                <th>激励受益类型</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones'">返点证书编号</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <td ng-if="myflag=='mydoings'"><input ng-click="updateSelection($event,list.processId, $index)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="$parent.checkAllpurchasefd"/></td>
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.ZMFDXH}}</a>
                </td>
                <td>{{list.model.ZMFDLX}}</td>
                <td>{{{'I':'新增','U':'修改','D':'作废'}[list.model.ZOPERATION] || list.model.ZOPERATION}}</td>
                <!--<td>{{list.model.ZMPART}}</td>-->
                <td>{{list.model.ZMDL}}</td>
                <td>{{list.model.ZMCPX1}}</td>
                <!--<td>{{enumObj.WAERS[list.model.ZMBB]}}</td>-->
                <td>{{list.model.ZMFDJE | number:2}}</td>
                <td>{{list.model.ZMSXRQ | date:'yyyy-MM-dd'}}</td>
                <td>{{list.model.ZMFDDJ | number:2}}</td>
                <td>{{list.model.ZMJLLX}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones'">{{list.model.ZMZSBH}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="12">没有查到采购返点</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--库存调整-->
    <div ng-if="controllercode.indexOf('ZD07') !== -1">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>业务类型</strong>
                        <select ng-model="$parent.ZTYPE" ng-init="$parent.ZTYPE=''">
                            <option value="">请选择</option>
                            <option value="A1">跨仓库调拨</option>
                            <option value="A2">仓库内转移</option>
                            <option value="A3">仓库产品报废</option>
                            <option value="A4">产品组装拆卸</option>
                            <option value="A5">产品拆箱</option>
                        </select>
                    </td>
                    <td>
                        <strong>申请人</strong>
                        <input class="text" type="text"  ng-init="$parent.ERNAM=''" ng-model="$parent.ERNAM" placeholder="">
                    </td>
                    <td>
                        <strong>审批人</strong>
                        <input class="text" type="text"  ng-init="$parent.lastactiveuname=''" ng-model="$parent.lastactiveuname" placeholder="">
                    </td>
                </tr>
                <tr class='ng-hide' ng-show="myflag=='mydones'|| myflag=='mysubscribers'">
                    <td>
                        <strong>申请单号</strong>
                        <input class="text" type="text"  ng-init="$parent.SQDH =''" ng-model="$parent.SQDH" placeholder="">
                    </td>
                    <td>
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>

            </table>
            <div ng-if="myflag=='mydones'|| myflag=='mysubscribers'" class="moreSearch" ng-click="toggleFn($event)"><a><b>显示全部</b><span>全部收起</span><i></i></a></div>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <!--<th ng-if=""><input type="checkbox" ng-model="checkAllpurStore" ng-click="allCheck($event,'purStore')"></th>-->
                <th>单据类型</th>
                <th>申请单号</th>
                <th>申请部门</th>
                <th>申请人</th>
                <th>业务类型</th>
                <th>库存类型</th>
                <th>总金额</th>
                <th>目标库存地点</th>
                <th>申请日期</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <!--<td ng-if><input ng-click="updateSelection($event,list._id)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAllpurStore"/></td>-->
                <td>{{list.typename}}</td>
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}&type={{list.model.ZTYPE}}">{{list.model.SQDH}}</a>
                </td>
                <td>{{list.model.CDEPT | getName:enumObj:'name':'code'}}</td>
                <td>{{list.model.ERNAM}}</td>
                <td>{{enumObj2.ZTYPE[list.model.ZTYPE]}}</td>
                <td>{{list.model.ZKCLX}}</td>
                <td>{{list.model.CZJJE | currency : '￥'}}</td>
                <td>{{list.model.LGORT | getName: enumObj : 'name' : 'code'}}</td>
                <td>{{list.model.CDATE | date: 'yyyy-MM-dd'}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="10">没有查到库存调整</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--盘点报告-->
    <div ng-if="controllercode === 'ZD13'">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>盘点类型</strong>
                        <!--<span ng-repeat="(x,y) in enumObj.RPTYPE">{{y}}</span>-->
                        <select ng-init="$parent.RPTYPE=''" ng-model="$parent.RPTYPE">
                            <option value="">请选择</option>
                            <option ng-repeat="(x,y) in enumObj.RPTYPE" value="{{x}}">{{y}}</option>
                        </select>
                    </td>
                    <td>
                        <strong>盘点仓库号</strong>
                        <input class="text" type="text"  ng-init="$parent.LGNUM=''" ng-model="$parent.LGNUM" placeholder="">
                    </td>
                    <td>
                        <strong>审批人</strong>
                        <input class="text" type="text"  ng-init="$parent.lastactiveuname=''" ng-model="$parent.lastactiveuname" placeholder="">
                    </td>
                </tr>
                <tr class='ng-hide' ng-show="myflag=='mydones'|| myflag=='mysubscribers'">
                    <td>
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>

            </table>
            <div ng-if="myflag=='mydones'|| myflag=='mysubscribers'" class="moreSearch" ng-click="toggleFn($event)"><a><b>显示全部</b><span>全部收起</span><i></i></a></div>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <!--<th ng-if=""><input type="checkbox" ng-model="checkAllcheck" ng-click="allCheck($event,'check')"></th>-->
                <th>盘点报告号</th>
                <th>盘点类型</th>
                <th>盘点仓库号</th>
                <th>仓库类型描述</th>
                <th>差异金额合计</th>
                <th>盘点日期</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <!--<td ng-if><input ng-click="updateSelection($event,list._id)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAllcheck"/></td>-->
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.RPNUM}}</a>
                </td>
                <td>{{enumObj.RPTYPE[list.model.RPTYPE]}}</td>
                <td>{{list.model.LGNUM}}</td>
                <td>{{list.model.LTYPT}}</td>
                <td>{{list.model.PDZJE| currency : '￥'}}</td>
                <td>{{list.model.RPDATE | date: 'yyyy-MM-dd'}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="7">没有查到盘点报告</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--到单申请-->
    <div ng-if="controllercode === 'DDSQ'">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mysubscribers'||myflag=='mydones' ">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>
            </table>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <!--<th ng-if=""><input type="checkbox" ng-model="checkAllbillapply" ng-click="allCheck($event,'billapply')"></th>-->
                <th>到单申请号</th>
                <th>制单人</th>
                <th>到单日期</th>
                <th>是否押汇</th>
                <th>到单/付汇日汇率</th>
                <th>到单金额</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <!--<td ng-if><input ng-click="updateSelection($event,list._id)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAllbillapply"/></td>-->
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.ZSQNO}}</a>
                </td>
                <td>{{list.model.ZCRNAM}}</td>
                <td>{{list.model.ZDDAT | date: 'yyyy-MM-dd'}}</td>
                <td>{{list.model.ZSFYH}}</td>
                <td>{{list.model.ZRHL}}</td>
                <td>{{list.model.ZDDJE | number:2}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="8">没有查到到单申请</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--借款管理=== -->
    <div ng-if="controllercode === 'JK'">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mysubscribers' || myflag=='mydones' ">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>
            </table>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <!--<th><span><input type="checkbox" ng-model="checkAll" id="allcheck" ng-click="allCheck($event)"></span></th>-->
                <th>借款单编号</th>
                <th>借款人</th>
                <th>借款部门</th>
                <th>资金性质</th>
                <th class="right">借款金额</th>
                <th>借款日期</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">

                <!--<td><span><input ng-click="updateSelection($event, list._id,list.code,list.info.status)" class="checkBox" name="checkbox{{$index}}" type="checkbox" ng-checked="checkAll"/></span></td>-->
                <td><a   href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.info.code}}</a></td>
                <td>{{list.model.info.user.name}}</td>
                <td>{{list.model.info.department.name}}</td>
                <td>{{list.model.info.fin.name}}</td>
                <td class="right">{{list.model.info.brw_amount | currency : '￥'}}</td>
                <td>{{list.model.info.brw_date | date: 'yyyy-MM-dd'}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;" ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="7"><span>没有查到借款单</span></td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--部门担保-->
    <div ng-if="controllercode === 'BMDB'">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>销售合同号</strong>
                        <input class="text" type="text"  ng-init="$parent.contractno=''" ng-model="$parent.contractno" placeholder="">
                    </td>
                    <td>
                        <strong>部门</strong>
                        <input class="text" type="text"  ng-init="$parent.ERNAM=''" ng-model="$parent.ERNAM" placeholder="">
                    </td>
                    <td>
                        <strong>申请人</strong>
                        <input class="text" type="text"  ng-init="$parent.ERNAM=''" ng-model="$parent.ERNAM" placeholder="">
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>审批人</strong>
                        <input class="text" type="text"  ng-init="$parent.lastactiveuname=''" ng-model="$parent.lastactiveuname" placeholder="">
                    </td>
                    <td class='ng-hide' ng-show="myflag=='mydones'|| myflag=='mysubscribers'">
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>

            </table>
            <div class="moreSearch" ng-click="toggleFn($event)"><a><b>显示全部</b><span>全部收起</span><i></i></a></div>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <th>部门担保申请号</th>
                <th>销售合同号</th>
                <th>担保金额</th>
                <th>部门担保额度</th>
                <th>部门担保已使用额度</th>
                <th>部门担保剩余额度</th>
                <th>部门</th>
                <th>申请人</th>
                <th>申请日期</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.code}}</a>
                </td>
                <td>{{list.model.contractno}}</td>
                <td>{{list.model.assuremoney| currency : '￥'}}</td>
                <td>{{list.model.deptlimit| currency : '￥'}}</td>
                <td>{{(list.model.deptlimit-list.model.deptunused)| currency : '￥'}}</td>
                <td>{{list.model.deptunused| currency : '￥'}}</td>
                <td>{{list.model.orgname}}</td>
                <td>{{list.model.proposer}}</td>
                <td>{{list.model.creatdate| date: 'yyyy-MM-dd '}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="10">没有查到部门担保</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--客户信用-->
    <div ng-if="controllercode === 'KHXY'">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>客户名称</strong>
                        <input class="text" type="text"  ng-init="$parent.cusname=''" ng-model="$parent.cusname" placeholder="">
                    </td>
                    <td>
                        <strong>审批人</strong>
                        <input class="text" type="text"  ng-init="$parent.lastactiveuname=''" ng-model="$parent.lastactiveuname" placeholder="">
                    </td>
                    <td class='ng-hide' ng-show="myflag=='mydones'|| myflag=='mysubscribers'">
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>

            </table>
            <!--<div class="moreSearch" ng-click="toggleFn($event)"><a><b>显示全部</b><span>全部收起</span><i></i></a></div>-->
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <th>客户名称</th>
                <th>客户类型</th>
                <th>申请人</th>
                <th>申请时间</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.cusname}}</a>
                </td>
                <td>{{list.model.custype}}</td>
                <td>{{list.owner.name}}</td>
                <td>{{list.property.createDate}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="5">没有查到客户信用</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--返点冲抵应收-->
    <div ng-if="controllercode === 'DXPZ'">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers'">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>关联合同号</strong>
                        <input class="text" type="text"  ng-init="$parent.contractNo=''" ng-model="$parent.contractNo" placeholder="">
                    </td>
                    <td>
                        <strong>客户名称</strong>
                        <input class="text" type="text"  ng-init="$parent.customer=''" ng-model="$parent.customer" placeholder="">
                    </td>
                    <td>
                        <strong>申请人</strong>
                        <input class="text" type="text"  ng-init="$parent.salesname=''" ng-model="$parent.salesname" placeholder="">
                    </td>
                </tr>
                <tr>
                    <td>
                        <strong>审批人</strong>
                        <input class="text" type="text"  ng-init="$parent.lastactiveuname=''" ng-model="$parent.lastactiveuname" placeholder="">
                    </td>
                    <td class='ng-hide' ng-show="myflag=='mydones'|| myflag=='mysubscribers'">
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>

            </table>
            <div class="moreSearch" ng-click="toggleFn($event)"><a><b>显示全部</b><span>全部收起</span><i></i></a></div>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <th>返点冲抵应收号</th>
                <th>关联销售合同号</th>
                <th>客户名称</th>
                <th>合同金额</th>
                <th>返点冲抵应收金额</th>
                <th>申请部门</th>
                <th>申请人</th>
                <th>日期</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.No}}</a>
                </td>
                <td>{{list.model.contractNo}}</td>
                <td>{{list.model.customer}}</td>
                <td>{{list.model.contractMoney| currency : '￥'}}</td>
                <td>{{list.model.thisMoney| currency : '￥'}}</td>
                <td>{{list.model.department}}</td>
                <td>{{list.model.requestor}}</td>
                <td>{{list.property.createDate}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="9">没有查到返点冲抵应收</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--报销单-->
    <div ng-if="controllercode === 'BXD'">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mysubscribers' || myflag=='mydones' ">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>
            </table>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <th>流水号</th>
                <th>报销人</th>
                <th>报销部门</th>
                <th>报销申<br>请日期</th>
                <th>附件<br>张数</th>
                <th>费用<br>种类</th>
                <th>费用期间-<br>起始月份</th>
                <th>截止<br>月份</th>
                <th>报销金<br>额汇总</th>
                <th>实际财务<br>应付金额</th>
                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <td><a href="/index.html#/{{list.controller}}?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.code}}</a>
                </td>
                <td>{{list.model.user.name}}</td>
                <td>{{list.model.department.name}}</td>
                <td>{{list.model.applydate | date: 'yyyy-MM-dd'}}</td>
                <td>{{list.model.cost.attanum}}</td>
                <td>{{list.model.cost.typestr}}</td>
                <td>{{list.model.cost.fromdate}}</td>
                <td>{{list.model.cost.enddate}}</td>
                <td>{{list.model.cost.amount | currency : '￥'}}</td>
                <td>{{list.model.finance.due | currency : '￥'}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'|| myflag=='mysubscribers'">{{list.property.status=='审批完成' && list.model.info && list.model.info.status=='invalid' ? '已作废' : list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="11">没有查报销单</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
    <!--物料主数据-->
    <div ng-if="controllercode === 'MM'">
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mydones' ">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>物料流水号</strong>
                        <input  class="text" type="text" name="code"  ng-init="$parent.code=''" ng-model="$parent.code"  placeholder="请输入物料流水号">
                    </td>
                </tr>
            </table>
        </div>
        <div class="typeListSearch genSearch ng-hide" ng-show="myflag=='mysubscribers' ">
            <input type="button" value="查询" class="searchbtn2" ng-click="search()">
            <table>
                <tr>
                    <td>
                        <strong>审批状态</strong>
                        <select ng-model="$parent.status" ng-init="$parent.status='active'">
                            <option value="">请选择</option>
                            <option value="active">审批中</option>
                            <option value="done">审批完成</option>
                        </select>
                    </td>
                </tr>
            </table>
        </div>
        <table class="orangestyle table">
            <thead>
            <tr>
                <th>物料流水号</th>
                <th>销售组织</th>
                <th>申请人</th>
                <th>申请人部门</th>
                <th>申请日期</th>

                <th ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'">审批人</th>
                <th ng-if="myflag=='mydones'|| myflag=='mysubscribers'">审批状态</th>
                <th ng-if="myflag=='mybegins'" width="60">操作</th>
            </tr>
            </thead>
            <tbody ng-class="dataList.length > 0 ? 'meg' : 'noMegTip'">
            <tr ng-repeat="list in dataList">
                <td><a
                       href="/index.html#/materialmanagement?myflag={{list.myflag}}&processId={{list.processId}}&nodeId={{list.node._id}}">{{list.model.code}}</a>
                </td>
                <td>{{list.model.orgId}}</td>
                <td>{{list.owner.name}}</td>
                <td>{{list.owner.orgname}}</td>
                <td>{{list.property.createDate}}</td>
                <td ng-if="myflag=='mydoings' || myflag=='mydones' || myflag=='mysubscribers' || myflag=='myapplys'" title="{{list.curreceiver.join()}}">{{list.curreceiver.join() | cutfield:true:3:'...'}}</td>
                <td ng-if="myflag=='mydones'|| myflag=='mysubscribers'">{{list.property.status}}</td>
                <td ng-if="myflag=='mybegins'">
                    <a href="javascript:;"
                       ng-click="deleteDraftBill(list.controller,list.processId,list.node._id,$index)" class="handleBtn delBtn" title="删除"></a>
                </td>
            </tr>
            <tr class="tip">
                <td colspan="8">没有查到物料</td>
            </tr>
            </tbody>
        </table>
        <pagination conf="paginationConf"></pagination>
    </div>
</div>
<!--<pagination conf="paginationConf" ng-if="!(controllercode === 'ZD03'||controllercode === 'JK'||controllercode === 'DDSQ'||controllercode === 'ZD04' || controllercode === 'KZFH' || controllercode.indexOf('YHSX') !== -1 || controllercode === 'ZD13' || controllercode.indexOf('ZD07') !== -1 || controllercode === 'BMDB' || controllercode.indexOf('ZD01') !== -1 || controllercode === 'QB' || controllercode.indexOf('IECONTRACT_CHANGE') !== -1 || controllercode === 'KHXY' || controllercode === 'NBDD' || controllercode.indexOf(['NBDD']) !== -1 || controllercode === 'FHXX' || controllercode === 'DXPZ' || controllercode.indexOf('JCDRN') !== -1 || controllercode.indexOf('XSFD') !== -1 || controllercode === 'FHSQ' || controllercode.indexOf(['FKSQ']) !== -1 || controllercode === 'KPSQ' || controllercode.split(',')[0]=== 'CONT' || controllercode.indexOf('ZD02') !== -1||controllercode === 'MM'|| controllercode === 'BXD')"></pagination>-->
